"use strict";(()=>{var e={};e.id=728,e.ids=[728],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7331:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>x,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{GET:()=>l,POST:()=>c});var o=r(9303),n=r(8716),a=r(670),u=r(7070),i=r(4713);async function c(e){try{let t=await e.json();if(!t||"object"!=typeof t||!Array.isArray(t.urls))return u.NextResponse.json({success:!1,error:'Request body must contain a "urls" array'},{status:400});let{urls:r}=t;if(0===r.length)return u.NextResponse.json({success:!1,error:"No URLs provided"},{status:400});if(r.length>100)return u.NextResponse.json({success:!1,error:"Maximum 100 URLs allowed per batch request"},{status:400});let s=r.filter(e=>"string"==typeof e&&e.startsWith("http"));if(0===s.length)return u.NextResponse.json({success:!1,error:"No valid URLs found â€” must start with http:// or https://"},{status:400});let o=await (0,i.W)(s,{timeout:5e3,maxConcurrent:10,retries:1});return u.NextResponse.json({success:!0,results:o})}catch(t){console.error("[/api/check-urls] Error:",t);let e=t instanceof Error?t.message:"URL check failed";return u.NextResponse.json({success:!1,error:e},{status:500})}}async function l(){return u.NextResponse.json({error:"Method not allowed"},{status:405})}let p=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/check-urls/route",pathname:"/api/check-urls",filename:"route",bundlePath:"app/api/check-urls/route"},resolvedPagePath:"C:\\Projects\\House of Coco Content App\\Seocontentoptimizerapp-main\\Backend\\app\\api\\check-urls\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:h,serverHooks:m}=p,f="/api/check-urls/route";function x(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}},4713:(e,t,r)=>{async function s(e,t,r=1){let o=new AbortController,n=setTimeout(()=>o.abort(),t);try{let t=await fetch(e,{method:"HEAD",signal:o.signal,redirect:"follow",headers:{"User-Agent":"Mozilla/5.0 (compatible; SEOBot/1.0)"}});clearTimeout(n);let r=t.status<400;return{url:e,isLive:r,statusCode:t.status}}catch(o){if(clearTimeout(n),o instanceof Error&&"AbortError"===o.name)return{url:e,isLive:!1,error:"Timeout"};if(1===r)return s(e,t,2);return{url:e,isLive:!1,error:o instanceof Error?o.message:"Unknown error"}}}async function o(e,t){let{maxConcurrent:r,timeout:o,retries:n}=t,a=[];for(let t=0;t<e.length;t+=r){let u=e.slice(t,t+r);(await Promise.allSettled(u.map(async e=>{let t=await s(e,o);return!t.isLive&&n>0&&"Timeout"!==t.error&&(t=await s(e,o)),t}))).forEach((e,t)=>{"fulfilled"===e.status?a.push(e.value):a.push({url:u[t],isLive:!1,error:"Promise rejected"})})}return a}r.d(t,{W:()=>o})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[789],()=>r(7331));module.exports=s})();